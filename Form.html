<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Registro</title>
    <link rel="stylesheet" href="FormStyles.css">
</head>
<body>
    <div class="header"></div>
    <a href="personalizer.html" onclick="toggleOptions()">Personalizer</a>
    <a href="Form.html">Form</a>
    <a href="#">Images</a>
    <form action="/enviar" method="post" onsubmit="return validarEmail()">
        <label for="nombre">Pon tu nombre:</label>
        <input type="text" id="nombre" name="nombre" required>

        <label for="email">Pon tu email:</label>
        <input type="email" id="email" name="email" required>

        <label>Selecciona tu género:</label>
        <div class="genero-opciones">
            <input type="radio" id="masculino" name="genero" value="masculino" required>
            <label for="masculino">Masculino</label>
            <input type="radio" id="femenino" name="genero" value="femenino">
            <label for="femenino">Femenino</label>
            <input type="radio" id="otro" name="genero" value="otro">
            <label for="otro">Otro</label>
        </div>

        <label for="pais">Selecciona tu país:</label>
        <select id="pais" name="pais" required onchange="mostrarOpciones()">
            <option value="">--Seleccione un país--</option>
            <option value="es">España</option>
            <option value="mx">Estados Unidos</option>
            <option value="ar">Japón</option>
        </select>

        <div id="opciones-adicionales"></div>

        <input type="submit" value="Enviar">
    </form>
    <script>function validarEmail() {
        const email = document.getElementById('email').value;
        const dominio = email.split('@')[1];
        if (!dominio || !dominio.includes('.')) {
            alert('El email debe contener un dominio válido después de @');
            return false;
        }
        return true;
    }
    
    function mostrarOpciones() {
        const pais = document.getElementById('pais').value;
        const opcionesDiv = document.getElementById('opciones-adicionales');
        let opcionesHTML = '';
        
        if (pais === 'es') {
            opcionesHTML = `
                <label for="comunidad">Selecciona tu comunidad autónoma:</label>
                <select id="comunidad" name="comunidad" required>
                    <option value="navarra">Navarra</option>
                    <option value="madrid">Madrid</option>
                    <option value="cataluña">Cataluña</option>
                </select>
            `;
        } else if (pais === 'mx') {
            opcionesHTML = `
                <label for="estado">Selecciona tu estado:</label>
                <select id="estado" name="estado" required>
                    <option value="california">California</option>
                    <option value="florida">Florida</option>
                    <option value="texas">Texas</option>
                </select>
            `;
        } else if (pais === 'ar') {
            opcionesHTML = `
                <label for="ciudad">Selecciona tu ciudad:</label>
                <select id="ciudad" name="ciudad" required>
                    <option value="tokyo">Tokyo</option>
                    <option value="osaka">Osaka</option>
                    <option value="kyoto">Kyoto</option>
                </select>
            `;
        }
        
        opcionesDiv.innerHTML = opcionesHTML;
    }</script>
</html>
